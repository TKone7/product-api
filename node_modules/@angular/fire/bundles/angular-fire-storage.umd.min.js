!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/fire")):"function"==typeof define&&define.amd?define("@angular/fire/storage",["exports","rxjs","rxjs/operators","@angular/core","@angular/fire"],t):t(((e=e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire.storage={}),e.rxjs,e.rxjs.operators,e.ng.core,e.angular.fire)}(this,(function(e,t,r,n,a){"use strict";function o(e){return new t.Observable((function(t){return e.on("state_changed",(function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()})),function(){return e.cancel()}}))}function u(e){var t=o(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(r.map((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function i(e,r,n){return{getDownloadURL:function(){return t.from(e.getDownloadURL(),r.outsideAngular).pipe(n)},getMetadata:function(){return t.from(e.getMetadata()).pipe(n)},delete:function(){return t.from(e.delete())},child:function(t){return i(e.child(t),r,n)},updateMetatdata:function(r){return t.from(e.updateMetadata(r))},updateMetadata:function(r){return t.from(e.updateMetadata(r))},put:function(t,r){return u(e.put(t,r))},putString:function(t,r,n){return u(e.putString(t,r,n))}}}var s=new n.InjectionToken("angularfire2.storageBucket"),c=function(){function e(e,t,r,n,o){this.schedulers=new a["ɵAngularFireSchedulers"](o),this.keepUnstableUntilFirst=a["ɵkeepUnstableUntilFirstFactory"](this.schedulers,n),this.storage=o.runOutsideAngular((function(){var n=a["ɵfirebaseAppFactory"](e,o,t);if(!n.storage)throw"You must import 'firebase/storage' before using AngularFireDatabase";return n.storage(r||void 0)}))}return e.prototype.ref=function(e){return i(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)},e.prototype.upload=function(e,t,r){return i(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,r)},e.decorators=[{type:n.Injectable,args:[{providedIn:"any"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[a.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[a.FIREBASE_APP_NAME]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[s]}]},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:n.NgZone}]},e.ɵprov=n["ɵɵdefineInjectable"]({factory:function(){return new e(n["ɵɵinject"](a.FIREBASE_OPTIONS),n["ɵɵinject"](a.FIREBASE_APP_NAME,8),n["ɵɵinject"](s,8),n["ɵɵinject"](n.PLATFORM_ID),n["ɵɵinject"](n.NgZone))},token:e,providedIn:"any"}),e}();var f=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{providers:[c]}]}],e}();e.AngularFireStorage=c,e.AngularFireStorageModule=f,e.BUCKET=s,e.createStorageRef=i,e.createUploadTask=u,e.fromTask=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-storage.umd.min.js.map